<div class="mainForm">
  <form [formGroup]="questionarioFormGroup" >
    <mat-stepper #linearVerticalStepper="matVerticalStepper" [linear]="isLinear" formArrayName="competences" #stepper>
     
      <mat-step #mat_step *ngFor="let competence of iterableCompetences; let i = index" [formGroupName]="i" [stepControl]="competences?.get([i])">
        <ng-template matStepLabel>>{{'Q'}}{{ i+1 }}</ng-template>
        <h3>{{competence.descricao}}</h3>
        <ng-container formArrayName="habilidades">
          <div [ngStyle]="{ 'display':'flex', 'flex-direction': 'column'}" *ngFor="let habilidade of competence.habilidades; let j = index">
            <span>{{makeSkill(habilidade).question}}</span>
            <mat-form-field [ngClass]="'mat-form-selector'">
              <mat-label>Escolha</mat-label>
              <mat-select  [formControlName]="j" >
                  <mat-option *ngFor="let skill of skillLevelsOptions" [value]="skill" (onSelectionChange)="test()">
                      {{getSkillLevelsAswer[skill]}}
                  </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </ng-container>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Fim</ng-template>
        Gostaria de enviar o question√°rio?
        <div>
          <button mat-button matStepperPrevious>Voltar</button>
          <button mat-button (click)="stepper.reset()">Enviar</button>
        </div>
      </mat-step>
    </mat-stepper>
    
  </form>
    
</div>